" function! s:SyncVimwiki(op)
"     let old_shell=&shell
"     set shell=/bin/bash\ -i
"     let cmd = "!~/scripts/vimwiki-full-sync ".a:op
"     exec cmd
"     exec 'set shell='.old_shell
" endfunction

" command! Sync call s:SyncVimwiki("full")

" if has("gui_running")
    " call s:SyncVimwiki("pull")

    " autocmd VimLeave * call s:SyncVimwiki("full")
" endif

" function! s:InsertWebpage(url)
"     let startline = line('.')
"     exec "normal! a%% {{{ ".a:url
"     exec "read !links -dump ".a:url." -width ".&textwidth
"     exec "normal! o"
"     exec "normal! 0i%% }}}\<CR>"
"     let endline = line('.')
"     " jump back to the first line
"     exec startline
" endfunction
" 
" command! -nargs=1 InsertWebpage call s:InsertWebpage(<f-args>)
" 
" function! UpdateDiaryLinks()
"     VimwikiDiaryGenerateLinks
"     write
" endfunction
" 
" autocmd BufRead diary.wiki call UpdateDiaryLinks()

" vim: ft=vim
